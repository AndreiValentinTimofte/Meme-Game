# Meme Game
Design and implement a web application for playing a single-player version of the "What do you
meme?" board game.
#
In the game, the player receives a random meme picture and seven possible captions for that meme.

The player needs to guess the “right” caption for the meme.
The game is based on an archive of several meme pictures. Each meme picture is associated with exactly 3 “right” captions that best match the picture, and each of them is associated with a number
of points the player will gain. Specifically, one caption is worth 1 point, another 2 points, and another
3 points. It is possible for a caption to be associated with more than one picture. Students are free to
use the memes and the captions they prefer.
#
The gameplay works in several rounds. Each round proposes a meme, as follows:
1. The player receives a random meme picture and seven possible captions for that meme in
random order. Both the random meme picture and the captions must be generated by the
server. Among the seven captions, the three “right” ones must appear.
2. The player must select a caption that best fits the meme.
3. If the player selects one of the most appropriate captions for the meme, they get the
associated points and a message reports the end of the round and the amount of points
gained.
4. If the player selects one of the other captions, they get 0 points. In this case, the application
shows a suitable message together with the two captions that are the best match for the
given meme.
#
Logged-in users will play a game composed of 3 rounds. In addition, all their games and rounds are
recorded at the end of the game, the history of their scores is visible in the user profile page. The
history should show all meme pictures, with their obtained score, the score for the game, and thetotal score of all games.

The same meme cannot be repeated in different rounds of the same game, but it might be repeated in different games.

After 3 rounds, the game stops, and the total score of this game is displayed, together with a summary of the correctly matched memes and their selected captions. If the game is not completed
by the user, it is not recorded, and no points are assigned.

Anonymous users, instead, may only play one-round games. They won’t have access to any functionality of registered users.

After the end of the game, the player may restart a new game.

Logged users can create new associations of meme pictures (already contained in the database) and captions (new or existing), also defining the associated points.

The organization of these specifications in different screens (and possibly on different routes) is left to the student.

### Database Schema
The database for the Meme Game project consists of three main tables:

**1. `memes` table**
- **`id`**: INTEGER, PRIMARY KEY - Unique identifier for the meme picture.
- **`url`**: TEXT - File path or URL to the meme image.
- **`description`**: TEXT - A brief description of the meme.

**2. `captions` table**
- **`id`**: INTEGER, PRIMARY KEY - Unique identifier for the caption.
- **`text`**: TEXT - The actual text of the caption.

**3. `associations` table**
- **`memeId`**: INTEGER - Foreign key referencing `memes.id`.
- **`captionId`**: INTEGER - Foreign key referencing `captions.id`.
- **`points`**: INTEGER - The score assigned for this specific meme-caption association (1, 2, or 3).
- **PRIMARY KEY**: (`memeId`, `captionId`)
*****
### API Design:
###  Memes

The following APIs are designed to support CRUD operations on the meme game data.

###  __List all memes__

URL: `api/memes`

HTTP Method: `GET`

Description: Retrieve a list of all meme pictures.

Response: `200 OK` (success) or `500 Internal Server Error` (error). In case of success, returns an array of meme objects in JSON format. Else, returns an error message.

Response body:
```json
[
    {
        "id": 1,
        "url": "./images/distracted-boyfirend.jpg",
        "description": "..."
    },
    ...
]
```

###  __Get a single meme__

URL: `api/memes/<id>`

HTTP Method: `GET`

Description: Retrieve a specific meme picture by its `<id>`.

Response: `200 OK` (success) or `404 Not Found` (id not found)or `500 Internal Server Error` (error). If the rquest body is not valid, `422 Unprocessable Entity` (validation error).

Response body:

```json

{
    "id": 1,
    "url": "./images/distracted-boyfirend.jpg",
    "description": "..."
}

```

###  __Create a new meme__

URL: `api/memes`

HTTP Method: `POST`

Description: Create a new meme picture.

Response: `201 Created` (success) or `400 Bad Request` (invalid input data) or `500 Internal Server Error` (server error). If the rquest body is not valid, `422 Unprocessable Entity`. (validation error)`.

Request body:
```json
{
    "url": "./images/new-meme.jpg",
    "description": "A new meme."
}
```

Response body:
```json
{
    "id": 6,
    "url": "./images/new-meme.jpg",
    "description": "A new meme."
}
```

###  __Update an existing meme__

URL: `api/memes/<id>`

HTTP Method: `PUT`

Description: Update an existing meme picture.

Response: `200 OK` (success) or `404 Not Found` (invalid input data) or `500 Internal Server Error`(server error).

Request body:
```json
{   
    "description": "The updated meme."
}
```

### __Delete an existing meme__

URL: `api/memes/<id>`

HTTP Method: `DELETE`

Description: Delete an existing meme picture.

Response: `204 No Content` (success) or `404 Not Found` (invalid ID) or `500 Internal Server Error` (server error). 

### Captions

### __List all captions__

URL: `api/captions`

HTTP Method: `GET`

Description: Retrieve a list of all captions.

Response: `200 OK` (success) or `500 Internal Server Error` (error). In case of success, returns an array of caption objects in JSON format. Else, returns an error message.

Response body:
```json
[
    {
        "id": 1,
        "text": "Look at my new cat!"
    },
    ...
]
```

###  __Get a single caption__

URL: `api/captions/<id>`

HTTP Method: `GET`

Description: Retrieve a specific caption by its `<id>`.

Response: `200 OK` (success) or `404 Not Found` (id not found) or `500 Internal Server Error` (error).

Response body:
```json
{
    "id": 1,
    "text": "Look at my new cat!"
}
```

###  __Create a new caption__

URL: `api/captions`

HTTP Method: `POST`

Description: Create a new caption.

Response: `201 Created` (success) or `400 Bad Request` (invalid input data) or `500 Internal Server Error` (server error).

Request body:
```json
{
    "text": "A brand new caption!"
}
```

Response body:
```json
{
    "id": 6,
    "text": "A brand new caption!"
}
```

###  __Update an existing caption__

URL: `api/captions/<id>`

HTTP Method: `PUT`

Description: Update an existing caption.

Response: `200 OK` (success) or `400 Bad Request` (invalid input data) or `500 Internal Server Error` (server error).

Rquest body:
```json
{
    "text": "Updated caption text"
}
```

###  __Delete an existing caption__

URL: `api/captions/<id>`

HTTP Method: `DELETE`

Description: Delete an existing caption.

Response: `204 No Content` (success) or `404 Not Found` (invalid ID) or `500 Internal Server Error` (server error).

### Associations

### __List all associations for a single meme__

URL: `api/memes/<id>/associations`

HTTP Method: `GET`

Description: Retrieve all associations for a specific meme.

Response: `200 OK` (success) or `404 Not Found` (invalid meme ID) or `500 Internal Server Error` (server error).

Response body:
```json
[
    {
        "memeId": 1,
        "captionId": 1,
        "points": 1
    },
    ...
]      
```

### __Create a new association__

URL: `api/memes/<memeId>/associations`

HTTP Method: `POST`

Description: Create a new association for a specific meme.

Response: `201 Created` (success) or `400 Bad Request`(invalid input data) or `404 Not Found` (invalid meme ID) or `500 Internal Server Error` (server error).

Request body:
```json
{
    "memeId": 1,
    "captionId": 107,
    "points": 1
}
```

Response body:
```json
{
    "memeId": 1,
    "captionId": 107,
    "points": 1
}
```

### __Update an existing association's points__

URL: `api/memes/<memeId>/associations/<captionId>`

HTTP Method: `PUT`

Description: Update the points of an existing association for a specific meme.

Response: `200 OK` (success) or `400 Bad Request`(invalid input data) or `404 Not Found` (invalid meme ID or caption ID, association not found) or `500 Internal Server Error` (server error).

Request body:
```json
{
    "points": 3
}
```

### __Delete an existing association__

URL: `api/memes/<memeId>/associations/<captionId>`

HTTP Method: `DELETE`

Description: Delete an existing association for a specific meme.

Response: `204 No Content` (success) or `404 Not Found` (invalid meme ID) or `500 Internal Server Error` (server error).
